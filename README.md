# tweeramm-feed (vk test)

Демо: http://94.19.178.248:40010/

Аналог <b>`Twitter`</b>

Выбранная БД - <b>`MariaDB`</b>. Выбрал ее, поскольку для реализации
новостного портала удобно использовать структурированные данные - таблицы,
в которых все строго организовано. Также, поскольку время на выполнение
задания ограничено - быстрота установки и настройки этой БД сыграла
в положительную сторону.

Фронтэнд сверстал без использования готовых сторонних компонент, с нуля с использованием `css`.

В качестве бэкенд языка выбрал php. Этот язык удобен для работы с выбранной мной БД и на нем довольно просто реализовать необходимый функционал задуманного мной приложения.
Также, немалым фактором послужило и то, что в бэкенде VK, насколько мне известно, используется kphp.

В связи с ограниченным врменем, не успел доделать "хэш-теги", вкладку "Explore" и
комментарии. При необходимости, готов реализовать эти функции.

## Установка

- в `./client/src/utils/config.ts` изменить значения констант <b>`CLIENT_API_URL_PUBLIC`<b> и <b>`CLIENT_API_URL_LOCAL`<b>
- в корневой папке репозитория `docker-compose up`
- загрузить таблицы в бд - `localhost:40001/utils/init_db.php`
- теперь можно зайти в клиент - `localhost:40000`

## Функциональность

### Общее

- Просмотр ленты постов, отсортированных по времени публикации.
- Авторизация (реализована полноценная аутентификация при помощи JWT-токенов)
- При регистрации проверяется валидность введенных данных: все введенные данные проверяются по регулярному выражению, через секунду после завершения ввода ника проверяется его занятость, пароли проверяются на совпадение, при выборе дня рождения можно выбрать только реальную дату (то есть нельзя выбрать 31 февраля, но можно выбрать 31 сентября, високосные года тоже учитываются).
- Возможность посмотреть список всех пользователей
- Просмотр страниц пользователей, на которых отображаются их посты и био (информация о профиле)

### Когда пользователь авторизован:

- Отправка поста
- Возможность поставить лайк
- Выход из аккаунта
- Переход на личную страницу, на которой отображаются посты и био текущего пользователя.
- Просмотр уведомлений
- Выход из аккаунта при неактивности пользователя в течении 10 минут.

## Стэк

- react - клиент
- nginx - веб-сервер
- php - бэкенд
- mariadb - база данных

## Зависимости

### Клиент

- react-dom-router - роутинг
- react-textarea-autosize - textarea c автоматическим изменением размера
- mui/icons-material - иконки из библиотеки mui
- classnames - объединение css классов

### Сервер

- firebase/php-jwt - кодирование и раскодирование JWT-токенов

## Структура проекта

```
$PROJECT_ROOT
│
├── client
│   │   # Static files for images
│   ├── public
│   │   # Client source files
│   └── src
│       │   # Api modules
│       ├── api
│       │   # React component files
│       ├── components
│       │   # React Hooks
│       ├── hooks
│       │   # Page layouts
│       ├── layouts
│       │   # Page files
│       ├── pages
│       │   # Non-react modules
│       └── utils
│   # DB data
├── mariadb_data
│   # Nginx configuration
├── nginx
│
└── server
    │   # Non-page files
    └── utils
```
